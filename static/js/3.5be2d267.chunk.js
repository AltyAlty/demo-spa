(this["webpackJsonpdemo-spa-01"]=this["webpackJsonpdemo-spa-01"]||[]).push([[3],{416:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3IFpJ",profileImage:"ProfileInfo_profileImage__1regV",userPhoto:"ProfileInfo_userPhoto__2cgvG",contact:"ProfileInfo_contact__1pgdA"}},417:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__3XkAy",posts:"MyPosts_posts__16GbP"}},418:function(e,t,s){e.exports={item:"Post_item__1JDJo"}},420:function(e,t,s){"use strict";s.r(t);var c=s(8),r=s(173),i=s(174),o=s(208),n=s(206),a=s(0),j=s.n(a),l=s(18),u=s(22),b=s(23),d=s(92),h=s(416),O=s.n(h),p=s(21),f=s.p+"static/media/profilelogo.de89eaed.jpg",x=s(81),v=s(145),m=s(1),g=["isOwner","updateUserStatus"],P=function(e){var t=e.isOwner,s=e.updateUserStatus,c=Object(v.a)(e,g),r=Object(a.useState)(!1),i=Object(d.a)(r,2),o=i[0],n=i[1],j=Object(a.useState)(c.status),l=Object(d.a)(j,2),u=l[0],b=l[1];Object(a.useEffect)((function(){b(c.status)}),[c.status]);return Object(m.jsxs)("div",{children:[" ",!o&&Object(m.jsx)("div",{children:t?Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Status"}),": ",Object(m.jsx)("span",{onDoubleClick:function(){n(!0)},children:c.status||"Enter your status"})]}):Object(m.jsx)("span",{children:c.status||""})}),o&&Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{onChange:function(e){b(e.currentTarget.value)},onFocus:function(e){e.target.select()},autoFocus:!0,onBlur:function(){n(!1),u?s(u):console.error("Status should exist ")},value:u})," "]})]})},k=s(205),S=s(62),_=s(95),U=s.n(_),I=Object(k.a)({form:"editProfile"})((function(e){var t=e.handleSubmit,s=e.profile,c=e.error;return Object(m.jsxs)("form",{onSubmit:t,children:[" ",Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("button",{children:"save"})]}),c&&Object(m.jsx)("div",{className:U.a.formSummaryError,children:c})," ",Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("b",{children:"1. Full Name"}),":",Object(S.c)("Full Name","fullName",S.a,[])]}),Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("b",{children:"2. About Me"}),":",Object(S.c)("About Me","aboutMe",S.a,[])]}),Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("b",{children:"3. Contacts"}),": ",Object.keys(s.contacts).map((function(e){return Object(m.jsxs)("div",{className:O.a.contact,children:[" ",Object(m.jsxs)("b",{children:[e,": ",Object(S.c)(e,"contacts."+e,S.a,[])]})]},e)}))]}),Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("b",{children:"4. Is looking for a job?"}),Object(S.c)("","lookingForAJob",S.a,[],{type:"checkbox"})]}),Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("b",{children:"Which one?"}),Object(S.c)("Which one?","lookingForAJobDescription",S.b,[])]})]})})),y=function(e){var t=e.profile,s=e.isOwner,c=e.activateEditMode;return Object(m.jsxs)("div",{children:[" ",s&&Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("button",{onClick:c,children:"Edit"})," "]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"1. Full Name"}),": ",t.fullName]})," ",Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"2. About Me"}),": ",t.aboutMe]})," ",Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("b",{children:"3. Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(m.jsx)(D,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"4. Is looking for a job?"})," ",t.lookingForAJob?Object(m.jsx)("span",{children:"Yes"}):Object(m.jsx)("span",{children:"No"})]}),t.lookingForAJob&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Which one?"})," ",t.lookingForAJobDescription]})," "]})},D=function(e){var t=e.contactTitle,s=e.contactValue;return Object(m.jsxs)("div",{className:O.a.contact,children:[Object(m.jsx)("b",{children:t}),": ",s]})},N=function(e){var t=e.isOwner,s=e.profile,c=e.status,r=e.updateUserStatus,i=e.saveUserPhoto,o=e.saveProfile,n=Object(a.useState)(!1),j=Object(d.a)(n,2),l=j[0],u=j[1];if(!s)return Object(m.jsx)(x.a,{});return Object(m.jsxs)("div",{children:[" ",Object(m.jsxs)("div",{className:O.a.profileImage,children:[" ",Object(m.jsx)("img",{src:f,alt:""})," "]}),Object(m.jsxs)("div",{className:O.a.descriptionBlock,children:[" ",Object(m.jsx)("img",{src:s.photos.large||p.a,className:O.a.userPhoto,alt:""})," ",t&&Object(m.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&i(e.target.files[0])}})," ",Object(m.jsx)(P,{status:c,updateUserStatus:r,isOwner:t}),l?Object(m.jsx)(I,{initialValues:s,onSubmit:function(e){o(e).then((function(){u(!1)}))},profile:s}):Object(m.jsx)(y,{profile:s,isOwner:t,activateEditMode:function(){u(!0)}})]})]})},w=s(94),A=s(417),F=s.n(A),M=s(418),J=s.n(M),C=function(e){var t=e.avatar,s=e.message,c=e.likes;return Object(m.jsxs)("div",{className:J.a.item,children:[" ",Object(m.jsx)("img",{src:t,alt:""})," ",s," ",Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:["likes: ",c]})})," "]})},B=Object(w.a)(10),E=Object(k.a)({form:"profileAddPostForm"})((function(e){var t=e.handleSubmit;return Object(m.jsxs)("form",{onSubmit:t,children:[" ",Object(m.jsxs)("div",{children:[" ",Object(S.c)("Enter your message","newPostText",S.b,[w.b,B])]}),Object(m.jsxs)("div",{children:[" ",Object(m.jsx)("button",{children:"Add post"})]})]})})),T=j.a.memo((function(e){var t=e.postsData,s=e.addPost,c=t.map((function(e){return Object(m.jsx)(C,{id:e.id,message:e.message,likes:e.likesCount,avatar:e.avatar},e.id)}));return Object(m.jsxs)("div",{className:F.a.postsBlock,children:[" ",Object(m.jsx)("h3",{children:"My posts"})," ",Object(m.jsx)(E,{onSubmit:function(e){s(e.newPostText),e.newPostText=""}})," ",Object(m.jsx)("div",{className:F.a.posts,children:c})," "]})})),V=s(170),W=Object(l.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:V.d.addPost})(T),G=function(e){var t=e.profile,s=e.status,c=e.updateUserStatus,r=e.isOwner,i=e.saveUserPhoto,o=e.saveProfile;return Object(m.jsxs)("div",{children:[" ",Object(m.jsx)(N,{profile:t,status:s,updateUserStatus:c,isOwner:r,saveUserPhoto:i,saveProfile:o}),Object(m.jsx)(W,{})]})},R=function(e){Object(o.a)(s,e);var t=Object(n.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userID;e||(e=this.props.authUserID)||this.props.history.push("/login/"),e?(this.props.getUserProfile(e),this.props.getUserStatus(e)):console.error("ID should exist in URI params or in state")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(G,Object(c.a)(Object(c.a)({},this.props),{},{isOwner:!this.props.match.params.userID}))}}]),s}(j.a.Component);t.default=Object(u.d)(Object(l.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserID:e.auth.id}}),{getUserProfile:V.b,getUserStatus:V.c,updateUserStatus:V.g,saveUserPhoto:V.f,saveProfile:V.e}),b.h)(R)}}]);
//# sourceMappingURL=3.5be2d267.chunk.js.map