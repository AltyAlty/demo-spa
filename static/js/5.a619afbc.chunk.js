(this["webpackJsonpdemo-spa-01"]=this["webpackJsonpdemo-spa-01"]||[]).push([[5],{415:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var s=c(8),a=c(145),r=(c(0),c(18)),n=c(23),i=c(1),u=["isAuth"],j=function(e){return{isAuth:e.auth.isAuth}};function o(e){return Object(r.b)(j)((function(t){var c=t.isAuth,r=Object(a.a)(t,u);return c?Object(i.jsx)(e,Object(s.a)({},r)):Object(i.jsx)(n.a,{to:"/login/"})}))}},419:function(e,t,c){e.exports={chatMessages:"ChatPage_chatMessages__1FYTM",chatMessage:"ChatPage_chatMessage__g-_n9",chatMessageUserName:"ChatPage_chatMessageUserName__2gki_",chatMessageText:"ChatPage_chatMessageText__GTZxJ",wsError:"ChatPage_wsError__xvOuF"}},422:function(e,t,c){"use strict";c.r(t);var s=c(92),a=c(0),r=c.n(a),n=c(25),i=c(18),u=c(209),j=function(e){return e.chat.chatMessages},o=function(e){return e.chat.WSStatus},h=c(415),b=c(419),l=c.n(b),d=c(21),O=c(1),g=function(){var e=Object(i.d)(o),t=Object(i.c)();return Object(a.useEffect)((function(){return t(Object(u.c)()),function(){t(Object(u.d)())}}),[]),Object(O.jsxs)("div",{children:[" ","error"===e&&Object(O.jsx)("div",{className:l.a.wsError,children:"Some error occurred. Please refresh the page or check your Internet-connection"}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f,{}),Object(O.jsx)(v,{})]})]})},f=function(){var e=Object(i.d)(j),t=Object(a.useRef)(null),c=Object(a.useState)(!0),r=Object(s.a)(c,2),n=r[0],u=r[1];return Object(a.useEffect)((function(){var e;n&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(O.jsxs)("div",{className:l.a.chatMessages,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<200?!n&&u(!0):n&&u(!1)},children:[" ",e.map((function(e,t){return Object(O.jsx)(x,{chatMessage:e},e.id)}))," ",Object(O.jsx)("div",{ref:t})," "]})},x=r.a.memo((function(e){var t=e.chatMessage;return Object(O.jsxs)("div",{className:l.a.chatMessage,children:[" ",Object(O.jsxs)(n.c,{to:"/profile/"+t.userId,children:[" ",Object(O.jsx)("img",{src:null!==t.photo?t.photo:d.a,alt:""})," ",Object(O.jsxs)("span",{className:l.a.chatMessageUserName,children:[" ",t.userName+" "," (id: ",t.userId,"):"]})]}),Object(O.jsxs)("span",{className:l.a.chatMessageText,children:[" ",t.message]})]})})),v=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),c=t[0],r=t[1],n=Object(i.d)(o),j=Object(i.c)();return Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{placeholder:"Enter your message",onChange:function(e){return r(e.currentTarget.value)},value:c,children:" "})}),Object(O.jsx)("div",{children:Object(O.jsxs)("button",{onClick:function(){c&&(j(Object(u.b)(c)),r(""))},disabled:"ready"!==n,children:[" ","Send"]})})]})},m=Object(h.a)((function(){return Object(O.jsxs)("div",{children:[" ",Object(O.jsx)(g,{})," "]})}));t.default=m}}]);
//# sourceMappingURL=5.a619afbc.chunk.js.map